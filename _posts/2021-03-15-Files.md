---
title: '파일'
excerpt: '자바 프로그램에서 직접 파일로 작업하는 방법을 알아보자'

categories:
  - Java
tags:
  - Working with data
  - File processing

toc: true
toc_label: 'Table of contents'
toc_sticky: true

---

> 출처 [Files - JetBrains Academy](https://hyperskill.org/learn/step/3635)를 보고 요약한 내용입니다.

프로그램이 외부 데이터(환경 설정, 데이터 셋 처리, 실행 로그 등)를 처리하고 저장하는 경우가 많습니다. 간편하게 데이터를 저장하는 방법은 모든 운영체제가 지원하는 파일을 이용하는 것입니다.

파일은 디스크나 다른 장치에 저장되고 주소가 이름으로 지정될 때 단일 단위로 조작될 수 있는 데이터 컬렉션으로 간주할 수 있습니다.

파일은 다른 파일 및 디렉토리의 폴더 역할을 하는 디렉토리로 구성될 수 있습니다.

## 1. The File class

**`File`**
`java.io` 패키지에 있는 클래스로 존재하거나 그렇지 않은 파일 또는 디렉토리를 나타냅니다. 

**`File`의 기능**
파일 또는 디렉토리를 **생성, 제거, 속성 접근** 등을 할 수 있습니다.

**`File` 객체 생성**

```java
File file = new File("C:\\Users\\ghYoon93\\Documents");
```

이 코드는 생성자의 파라미터로 준 경로가 실제로 존재하지 않아도 작동합니다. 그렇다고 해서 객체를 생성 시 새로운 파일이나 디렉토리를 생성하는 것은 아닙니다.  단지 이 객체는 후에 생성될 수도 있는 가상 파일 혹은 디렉토리를 나타냅니다.

`File`  클래스의 객체는 불변성의 특징을 가지고 있습니다. 즉, 한번 생성되면 객체에 의해 표현되는 추상적인 경로이름은 변경되지 않습니다.

## 2. Absolute and relative path

파일 경로는 **절대 경로**와 **상대 경로**로 나타낼 수 있습니다.

**절대 경로**
경로가 파일 시스템의 루트 요소부터 시작됩니다. 운영체제의 타입을 포함한 파일 위치의 전체 정보를 가지고 있습니다.

**절대 경로 사용 시 문제점**

* 파일 시스템이 다른 운영체제에서 프로그램을 재사용할 수 없습니다.
* 특정 디렉토리와 함께 파일을 이동할 수 없습니다.

**상대 경로**
경로가 **작업 중인 디렉토리**부터 시작됩니다. 작업 중인 디렉토리는 `.`으로 나타냅니다. 상대 경로는 전체 정보를 가지고 있지 않으며 요청된 파일에 도달하려면 현재 디렉토리 경로와 결합되어야합니다.

```java
File file = new File("./images/picture.jpg");
```

상대 경로는 플랫폼에 상관 없이 분리자(`/`)가 동일합니다. 또한 `.`을 생략할 수 있어 생성자의 인자로 `images/picture.jpg`를 전달해도 상관없습니다.

> 플랫폼에 독립적인 프로그램을 구성하기 위해 가능하면 상대 경로를 사용하는 것이 일반적입니다. 또한 상대 경로를 사용하면 코드수정 없이 `image/picture.jpg`를 포함한 작업 디렉토리를 이동할 수 있습니다.

## 3. Basic methods

**`File` 인스턴스의 메서드**

* `String getPath()` 파일 혹은 디렉토리의 문자열 경로를 반환
* `String getName()` 파일 혹은 디렉토리의 이름(경로의 마지막 이름) 반환
* `boolean isDirectory()` 인스턴스가 디렉토리이며 존재 여부 반환
* `boolean isFile()` 인스턴스가 파일이며 존재 여부 반환
* `boolean exists()`  파일 시스템에 파일 혹은 디렉토리 존재 여부 반환
* `String getParent()`파일 혹은 디렉토리를 포함하고 있는 부모 디렉토리 문자열 경로 반환
* [그 외](https://docs.oracle.com/javase/7/docs/api/java/io/File.html)

파일을 **읽기, 수정, 실행**하기 전에 권한 여부를 테스트하는 `canRead()`, `canWrite()`, `canExecute()` 메서드를 사용하는 것이 좋습니다. 그렇지 않으면 권한이 없는 파일에 대한 작업 시 파일 접근 에러가 발생할 수 있습니다.